<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Projekt IIS</title>
    <style type="text/css">
        table { border-collapse: collapse; }
        td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
        dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavičce dokumentu
     podle použitého editoru -->

<h1>Konference</h1> <!-- nazev zadani -->

<dl>
    <dt>Autoři</dt>
    <dd>Tomáš Dolák <!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
        <a href="mailto:xautor01@stud.fit.vutbr.cz">xdolak09@stud.fit.vutbr.cz</a> -
        kapitán
    </dd>
    <dd>Monika Zahradníková <!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
        <a href="mailto:xautor02@stud.fit.vutbr.cz">xzahra33@stud.fit.vutbr.cz</a> -
        člen
    </dd>
    <dd>Jan Křůmal <!-- Nahraďte skutečným jménem a e-mailem autora a popisem činnosti -->
        <a href="mailto:xautor03@stud.fit.vutbr.cz">xkruma01@stud.fit.vutbr.cz</a> -
        člen
    </dd>

    <br>
    <dt>URL aplikace</dt>
    <dd><a href="http://www.stud.fit.vutbr.cz/~xautor01/IIS">http://www.stud.fit.vutbr.cz/~xautor01/IIS</a></dd>
    <dd>(pokud má aplikace více vstupních stránek, napište obdobně další URL)</dd>
</dl>

<br>
<h2>Uživatelé systému pro testování</h2>
<p>Uveďte prosím existující zástupce <strong>všech rolí uživatelů</strong>.</p>
<table>
    <tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
    <tr><td>admin@local.cz</td><td>test</td><td>Administrátor</td></tr>
    <tr><td>novakova@seznam.cz</td><td>test</td><td>Registrovaný uživatel</td></tr>
    <tr><td>franta</td><td>franta</td><td>Zákazník</td></tr>
</table>

<h2>Diagram případů užití</h2>
<p>
    V aplikaci je implementován následný diagram případu užití, vycházející z definice zadání.
    TODO: Vygenerovat diagram!
</p>


<h3>Video</h3>

<p>Přiložte odkaz na komentované video demostrující použití informačního systému. Zaměřte se na případy užití definované zadáním (např. registrace uživatele, správa uživatelů a činnosti jednotlivých rolí). Video nahrajte například na VUT Google Drive, kde ho bude možné přímo spustit z odkazu.</p>

<h2>Implementace</h2>
<p>
    Kód aplikace je rozdělen na logické celky zvané moduly, které jsou rozděleny do dalších podcelků. Modulem se v kontextu aplikace 
    rozumí správa tabulky v databázi, tedy každá tabulka databáze má svůj vlastní modul. Mezi podčásti modulu obvykle patří
    'Models' obsahující modely daného modulu, 'Presenters' obsahuje presentéry daného modulu, 'Controls' obsahujicí kontrolery jednotlivých presentéru, 
    a 'templates' obsahuje šablony jednotlivých presentéru daného modulu. Zpravidla každý presentér má svůj vlastní kontroler a šablonu
    (až na presentéry detailu, kde presetér pouze zobrazuje jednotlivé relace a nepotřebuje tedy kontrolér).
</p>
<ul>
    <li><strong>CommonModule/</strong>
        <em>- obsahuje základní definice, např. BasePresenter, SecurePresenter, BaseService</em>
        <ul>
            <li><strong>Models/</strong>
                <ul>
                    <li>
                        BaseService.php <em>základní třída pro services ostatních modulů pracující s databázi</em>
                    </li>
                </ul>
            </li>
            <li><strong>Presenters/</strong>
                <ul>
                    <li>
                        BasePresenter.php <em>základní třída pro presentéry, které jsou dostupné i nepřihlášeným uživatelům</em>
                    </li>
                    <li>
                        SecurePresenter.php <em>základní třída pro presentéry, které jsou zabezpečené a přístupné pouze přihlášeným uživatelům</em>
                    </li>

                </ul>
            </li>
            <li><strong>Controls/</strong>
            <em>(obsahuje základní rozložení stránky - datagrid, footer, headbar, sidebar)</em>

            </li>
        </ul>
    </li>
    <li><strong>UserModule/</strong>
        <em>- obsahuje základní definice, např. BasePresenter, SecurePresenter, BaseService</em>
        <ul>
            <li><strong>Models/</strong>
                <ul>
                    <li>
                        AuthenticationFactory.php <em>zajišťuje nastavení role uživatelů a jejich oprávnění</em>
                    </li>
                </ul>
                <ul>
                    <li>
                        UserAuthenticator.php <em>implementuje rozhraní Authenticator, zajíšťující bezpečné přihlášení (porovnává hash hesla zadaný uživatelem s hashem v databázi)</em>
                    </li>
                </ul>
                <ul>
                    <li>
                        UserFormFactory.php <em>vytváří formuláře pro registraci klasických uživatelů a administrátorů</em>
                    </li>
                </ul>
                <ul>
                    <li>
                        UserService.php <em>zajišťuje operace s databázi, týkající se entity uživatel</em>
                    </li>
                </ul>
            </li>
            <li><strong>Presenters/</strong>
                <ul>
                    <li>AuthenticationPresenter.php</li> <em>presentér pro autentizaci uživatelů</em>
                </ul>
                <ul>
                    <li>RegisterPresenter.php</li> <em>presentér pro registraci uživatelů</em>
                </ul>
                <ul>
                    <li>UserListPresenter.php</li> <em>presentér pro admina, zobrazuje seznam všech uživatelů, implementuje odstranění/upravení uživatelů</em>
                </ul>
                <ul>
                    <li>UserPresenter.php</li> <em>presentér pro uživatele, umožňuje úpravu účtu uživatele (změna hesla, jména, příjmení)</em>
                </ul>
                <ul>
                    <li>CreateAdminPresenter.php</li> <em>presentér pro admina, umožňuje výtvářet další  administrátorské účty</em>
                </ul>
            </li>
            <li><strong>templates/</strong>
                <em>- obsahuje šablony k jednotlivým presentérům.</em>
            </li>
        </ul>
    </li>
    <li><strong>ReservationModule/</strong>
        <em>- implementuje logiku práce s rezervacemi uživatelů</em>
        <ul>
            <li><strong>Models/</strong>
                <ul>
                    <li>
                        ReservationService.php <em>implementuje metody přidání, úpravy, odstranění reservací a další operace pracující s rezervacemi z databáze</em>
                    </li>
                </ul>
            </li>
            <li><strong>Presenters/</strong>
                <ul>
                    <li>
                        ReservationDetailPresenter.php <em>presentér pro zobrazovanání detailu rezervace</em>
                    </li>
                    <li>
                        ReservationListAttendantPresenter.php <em>zobrazuje list rezervací pro účastníka konferencí TODO</em>
                    </li>
                    <li>
                        ReservationListPresenter.php <em>zobrazuje list rezervací konferencí</em>
                    </li>
                    <li>
                        ReserveNonRegisteredPresenter.php <em>umožňuje vytvořit rezervaci na danou konferenci pro neregistrovaného uživatele</em>
                    </li>
                    <li>
                        ReserveRegisteredPresenter.php <em>umožňuje vytvořit rezervaci na danou konferenci pro registrovaného uživatele</em>
                    </li>
                </ul>
            </li>
            <li><strong>Controls/</strong>
            <em>- obsahuje kontroléry k jednotlivým presentérům</em>
            </li>
        </ul>
    </li>
    <li><strong>PresentationModule/</strong>
        <em>- implementuje logiku práce s prezentacemi od uživatelů k jednotlivým přednáškám</em>
        <ul>
            <li><strong>Models/</strong>
                <ul>
                    <li>
                        PresentationService.php <em>implementuje metody přidání, úpravy, odstranění reservací a další operace pracující s rezervacemi z databáze</em>
                    </li>
                </ul>
            </li>
            <li><strong>Presenters/</strong>
                <ul>
                    <li>
                        PresentationAddPresenter.php <em>umožnuje uživatelům přidávat prezentace ke konferencím</em>
                    </li>
                    <li>
                        PresentationDetailPresenter.php <em>umožnuje zobrazit prezentace konkrétní konference</em>
                    </li>
                    <li>
                        PresentationEditPresenter.php <em>umožnuje upravovat prezentace</em>
                    </li>
                    <li>
                        PresentationListPresenter.php <em>umožnuje zobrazit list prezentací k dané konferenci</em>
                    </li>
                </ul>
            </li>
            <li><strong>Controls/</strong>
            <em>- obsahuje kontroléry k jednotlivým presentérům</em>

            </li>
        </ul>
    </li>
    <li><strong>LectureModule/</strong>
        <em>- implementuje logiku práce s přednáškami jednotlivých konferencí</em>
        <ul>
            <li><strong>Models/</strong>
                <ul>
                    <li>
                        LectureService.php <em>implementuje metody přidání, úpravy, odstranění přednášek a další operace pracující s přednáškami z databáze</em>
                    </li>
                </ul>
            </li>
            <li><strong>Presenters/</strong>
                <ul>
                    <li>
                        AddNewLecturePresenter.php <em>slouží k přidávání nových přednášek v rámci konference</em>
                    </li>
                    <li>
                        ConferenceSchedulePresenter.php <em>slouží k vytvoření rozvrhu přednášek v rámci konference</em>
                    </li>
                    <li>
                        ConferenceSchedulePresenter.php <em>slouží k vytvoření detailu přednášky</em>
                    </li>
                </ul>
            </li>
            <li><strong>Controls/</strong>
            <em>(obsahuje základní rozložení stránky - datagrid, footer, headbar, sidebar)</em>

            </li>
        </ul>
    </li>
    <li><strong>ConferenceModule/</strong>
        <em>- implementuje logiku práce s jednotlivými konferencemi</em>
        <ul>
            <li><strong>Models/</strong>
                <ul>
                    <li>
                        ConferenceService.php <em>implementuje metody přidání, úpravy, odstranění konferencí a další operace pracující s konferencemi z databáze</em>
                    </li>
                </ul>
            </li>
            <li><strong>Presenters/</strong>
                <ul>
                    <li>
                        AddRoomToConferencePresenter.php <em>slouží k přiřazení místnosti ke konferenci</em>
                    </li>
                    <li>
                        ConferenceAddPresenter.php <em>slouží k vytváření konference</em>
                    </li>
                    <li>
                        ConferenceEditPresenter.php <em>slouží k úpravě konferencí</em>
                    </li>
                    <li>
                        ConferenceDetailPresenter.php <em>slouží k vytvoření detailu konference</em>
                    </li>
                    <li>
                        ConferenceListCreatorPresenter.php <em>slouží k vytvoření listu konferencí, které daný uživatel vytvořil</em>
                    </li>
                    <li>
                        ConferenceListPresenter.php <em>slouží k vytvoření listu konferencí, implementováno i filtrování</em>
                    </li>
                    <li>
                        ConferenceListUserPresenter.php <em>slouží k vytvoření listu konferencí, na které má uživatel rezervace</em>
                    </li>
                </ul>
            </li>
            <li><strong>Controls/</strong>
            <em>(obsahuje základní rozložení stránky - datagrid, footer, headbar, sidebar)</em>

            </li>
        </ul>
    </li>
    <li><strong>ConferenceHasRoomsModule/</strong>
        <em>- implementuje vazby mezi jednotlými místnosti a konferencemi</em>
        <ul>
            <li><strong>Models/</strong>
                <ul>
                    <li>
                        ConfereceHasRoomsService.php <em>implementuje metody pracující s vazební tabulkou (ConferenceHasRooms) mezi místnostmi a konferencemi</em>
                    </li>
                </ul>
            </li>
        </ul>
    </li>
    <li><strong>RoomsModule/</strong>
        <em>- implementuje logiku práce s místnostmi</em>
        <ul>
            <li><strong>Models/</strong>
                <ul>
                    <li>
                        RoomsService.php <em>implementuje metody přidání, úpravy, odstranění místností v systému</em>
                    </li>
                </ul>
            </li>
            <li><strong>Presenters/</strong>
                <ul>
                    <li>
                        RoomAddPresenter.php <em>slouží k přidávání nových místností do systému</em>
                    </li>
                    <li>
                        RoomEditPresenter.php <em>slouží k úpravě místností v systému</em>
                    </li>
                    <li>
                        RoomListPresenter.php <em>slouží k zobrazení všech místností v systému</em>
                    </li>
                </ul>
            </li>
            <li><strong>Controls/</strong>
            <em>obsahuje logiku AddRoom, EditRoom a ListRoom</em>

            </li>
        </ul>
    </li>
    <li><strong>www/</strong>
        <ul>
            <li><strong>css/</strong>
                <ul>
                    <li>
                        styles.css <em>obsahuje styly stránek</em>
                    </li>
                </ul>
            </li>
            <li>
                index.php
            </li>
        </ul>
    </li>
</ul>

<h3>Databáze</h3>

<img src="doc/databaze.png" alt="Schéma relační databáze" width="1200">


<h2>Instalace</h2>

<h3>Instalace na lokální PC</h3>

<h4>Požadavky</h4>
<ul>
    <li>Apache Server nebo Nginx, MySQL nejlépe XAMPP s PHP verze 8.2</li>
</ul>

<h4>Postup</h4>
<ul>
    <li>uložte projekt do libovolné složky</li>
    <li>spustťe v XAMPP Apache server a MySQL</li>
    <li>V prohlížeči otevře stránku http://localhost/phpmyadmin/index.php klikněte na tlačitko New, které umožňuje vytvořit novou databázi</li>
    <li>nově vytvořenou databázi pojmenujte "iis" a poté naimportujte schéma ze složky "...\iis-proj\src\data\db.sql"</li>
    <li>otevřete klasický Windows terminál a spusťte lokální php server ve složce "...\iis-proj\src\" pomocí příkazu: php -S localhost:8000 -t www</li>
    <li>následně do prohlížeče zadejte URL: http://localhost:8000/</li>
</ul>

<li>
    Aplikace byla testována na PHP8.2 s využitím programu XAMPP (spouštející Apache Server a MySQL) s využitím PHP serveru (viz. výše - php -S localhost:8000 -t www).
</li>
<h3>Instalace na server</h3>
Stručně popište:
<ul>
    <li>postup instalace na server,</li>
    <li>softwarové požadavky (verze PHP apod.),</li>
    <li>jak rozbalit, konfigurovat, inicializovat databázi, ...</li>
</ul>

<h2>Známé problémy</h2>
<p>Zde popište, které body zadání nejsou implementovány a z jakého důvodu. Např. &bdquo;Z časových důvodů nebyla implementována správa uživatelů.&rdquo; Pomůžete tím zrychlit hodnocení, když neimplementované funkce nebudeme muset dlouze hledat.</p>

</body>
</html>
